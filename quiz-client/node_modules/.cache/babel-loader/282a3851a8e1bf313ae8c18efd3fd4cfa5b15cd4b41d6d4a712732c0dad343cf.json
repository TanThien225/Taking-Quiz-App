{"ast":null,"code":"var _jsxFileName = \"D:\\\\Nicolas\\\\React Basis\\\\Quiz Client\\\\Quiz App with React\\\\quiz-client\\\\src\\\\Hooks\\\\useStateContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\n\n//---Context API--\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const stateContext = /*#__PURE__*/createContext();\nconst getFreshContext = () => {\n  //local rong thi tao moi\n  if (localStorage.getItem(\"context\") === null) {\n    localStorage.setItem(\"context\", JSON.stringify({\n      testerId: 0,\n      timeSpend: 0,\n      selectedOption: []\n    }));\n  }\n  return JSON.parse(localStorage.getItem(\"context\"));\n};\nexport default function useStateContext() {\n  _s();\n  const {\n    context,\n    setContext\n  } = useContext(stateContext);\n  return {\n    context,\n    setContext: obj => {\n      setContext({\n        ...context,\n        ...obj\n      });\n    },\n    //   setContext({...context,timeSpend: 1,}); khong can nua vi da dinh nghia setContext moi ben useStateCOntext khoong can destructuring nhieu lan ch can\n    //   setContext({ timeSpend: 1 });\n    resetContext: () => {\n      localStorage.removeItem(\"context\");\n      setContext(getFreshContext());\n    }\n  };\n}\n_s(useStateContext, \"Sl3icjOcRI0xTX76ArwT8X9epPc=\");\nexport function ContextProvider({\n  children\n}) {\n  _s2();\n  const [context, setContext] = useState(getFreshContext());\n  //khi context thay doi thi setCOntext thuc thi chung ta cungx phai cap nhat laij trong localstorage\n  //moi khi change trong context, call back function thu 1 se duoc invoke\n  useEffect(() => {\n    localStorage.setItem(\"context\", JSON.stringify(context));\n  }, [context]);\n  return /*#__PURE__*/_jsxDEV(stateContext.Provider, {\n    value: {\n      context,\n      setContext\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s2(ContextProvider, \"Eu9lpOMiO5MqWBWjd1iNp+9xnIQ=\");\n_c = ContextProvider;\nvar _c;\n$RefreshReg$(_c, \"ContextProvider\");","map":{"version":3,"names":["React","createContext","useContext","useEffect","useState","jsxDEV","_jsxDEV","stateContext","getFreshContext","localStorage","getItem","setItem","JSON","stringify","testerId","timeSpend","selectedOption","parse","useStateContext","_s","context","setContext","obj","resetContext","removeItem","ContextProvider","children","_s2","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/Nicolas/React Basis/Quiz Client/Quiz App with React/quiz-client/src/Hooks/useStateContext.js"],"sourcesContent":["import React, { createContext, useContext, useEffect, useState } from \"react\";\r\n\r\n//---Context API--\r\nexport const stateContext = createContext();\r\n\r\nconst getFreshContext = () => {\r\n  //local rong thi tao moi\r\n  if (localStorage.getItem(\"context\") === null) {\r\n    localStorage.setItem(\r\n      \"context\",\r\n      JSON.stringify({\r\n        testerId: 0,\r\n        timeSpend: 0,\r\n        selectedOption: [],\r\n      })\r\n    );\r\n  }\r\n  return JSON.parse(localStorage.getItem(\"context\"));\r\n};\r\n\r\nexport default function useStateContext() {\r\n  const { context, setContext } = useContext(stateContext);\r\n  return {\r\n    context,\r\n    setContext: (obj) => {\r\n      setContext({ ...context, ...obj });\r\n    },\r\n    //   setContext({...context,timeSpend: 1,}); khong can nua vi da dinh nghia setContext moi ben useStateCOntext khoong can destructuring nhieu lan ch can\r\n    //   setContext({ timeSpend: 1 });\r\n    resetContext: () => {\r\n      localStorage.removeItem(\"context\");\r\n      setContext(getFreshContext());\r\n    },\r\n  };\r\n}\r\n\r\nexport function ContextProvider({ children }) {\r\n  const [context, setContext] = useState(getFreshContext());\r\n  //khi context thay doi thi setCOntext thuc thi chung ta cungx phai cap nhat laij trong localstorage\r\n  //moi khi change trong context, call back function thu 1 se duoc invoke\r\n  useEffect(() => {\r\n    localStorage.setItem(\"context\", JSON.stringify(context));\r\n  }, [context]);\r\n  return (\r\n    <stateContext.Provider value={{ context, setContext }}>\r\n      {children}\r\n    </stateContext.Provider>\r\n  );\r\n}\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;;AAE7E;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,OAAO,MAAMC,YAAY,gBAAGN,aAAa,CAAC,CAAC;AAE3C,MAAMO,eAAe,GAAGA,CAAA,KAAM;EAC5B;EACA,IAAIC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,KAAK,IAAI,EAAE;IAC5CD,YAAY,CAACE,OAAO,CAClB,SAAS,EACTC,IAAI,CAACC,SAAS,CAAC;MACbC,QAAQ,EAAE,CAAC;MACXC,SAAS,EAAE,CAAC;MACZC,cAAc,EAAE;IAClB,CAAC,CACH,CAAC;EACH;EACA,OAAOJ,IAAI,CAACK,KAAK,CAACR,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,CAAC;AACpD,CAAC;AAED,eAAe,SAASQ,eAAeA,CAAA,EAAG;EAAAC,EAAA;EACxC,MAAM;IAAEC,OAAO;IAAEC;EAAW,CAAC,GAAGnB,UAAU,CAACK,YAAY,CAAC;EACxD,OAAO;IACLa,OAAO;IACPC,UAAU,EAAGC,GAAG,IAAK;MACnBD,UAAU,CAAC;QAAE,GAAGD,OAAO;QAAE,GAAGE;MAAI,CAAC,CAAC;IACpC,CAAC;IACD;IACA;IACAC,YAAY,EAAEA,CAAA,KAAM;MAClBd,YAAY,CAACe,UAAU,CAAC,SAAS,CAAC;MAClCH,UAAU,CAACb,eAAe,CAAC,CAAC,CAAC;IAC/B;EACF,CAAC;AACH;AAACW,EAAA,CAduBD,eAAe;AAgBvC,OAAO,SAASO,eAAeA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,GAAA;EAC5C,MAAM,CAACP,OAAO,EAAEC,UAAU,CAAC,GAAGjB,QAAQ,CAACI,eAAe,CAAC,CAAC,CAAC;EACzD;EACA;EACAL,SAAS,CAAC,MAAM;IACdM,YAAY,CAACE,OAAO,CAAC,SAAS,EAAEC,IAAI,CAACC,SAAS,CAACO,OAAO,CAAC,CAAC;EAC1D,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;EACb,oBACEd,OAAA,CAACC,YAAY,CAACqB,QAAQ;IAACC,KAAK,EAAE;MAAET,OAAO;MAAEC;IAAW,CAAE;IAAAK,QAAA,EACnDA;EAAQ;IAAAI,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACY,CAAC;AAE5B;AAACN,GAAA,CAZeF,eAAe;AAAAS,EAAA,GAAfT,eAAe;AAAA,IAAAS,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}